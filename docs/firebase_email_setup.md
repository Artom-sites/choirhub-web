# Налаштування Email у Firebase

Щоб листи не потрапляли у спам і відкривали вашу гарну сторінку відновлення пароля, потрібно виконати наступні кроки в Firebase Console.

## 1. Виправлення проблеми зі спамом (DNS)

Ваш поточний домен: **`mychoir.vercel.app`**

> **Важливо:** Оскільки `vercel.app` — це спільний домен, Google/Firebase можуть не дозволити повністю верифікувати його для надсилання пошти (SPF/DKIM), бо ви не володієте всім доменом `vercel.app`.
>
> **Що можна зробити зараз:**
> 1.  Спробуйте додати `mychoir.vercel.app` в **Authorized domains** (якщо його там немає).
> 2.  Спробуйте пройти верифікацію в **Templates > Sender identity**. Якщо Firebase видасть DNS записи — додайте їх в панелі керування доменом Vercel (якщо це можливо).
> 3.  **Найкраще рішення:** Придбати власний домен (наприклад `mychoir.com` за ~$10/рік), підключити його до Vercel, і тоді верифікація пройде на 100%.

Поки що ваші листи можуть приходити як "via firebaseapp.com" або потрапляти в спам, і на безкоштовному домені це важко виправити повністю.

## 2. Підключення власної сторінки відновлення пароля (Це точно спрацює!)

Ми створили сторінку `/auth/action` у додатку. Щоб Firebase використовував її:

1.  Перейдіть у **Firebase Console** -> **Authentication** -> **Templates**.
2.  Виберіть **Password reset**.
3.  Натисніть на посилання **Customize action URL**.
4.  У поле **Action URL** введіть вашу адресу на Vercel:
    
    `https://mychoir.vercel.app/auth/action`

5.  Збережіть зміни.

Тепер, коли користувач натисне на посилання в листі:
1.  Відкриється **ваш сайт** (темна тема, гарний інтерфейс).
2.  Користувач введе новий пароль.

> ⚠️ **Примітка для мобільного додатку:**
> Якщо користувач натискає посилання на телефоні і у вас налаштовані **App Links / Universal Links**, це посилання може відразу відкрити мобільний додаток на потрібному екрані. Для цього треба, щоб домен `YOUR-DOMAIN.com` був асоційований з додатком.
